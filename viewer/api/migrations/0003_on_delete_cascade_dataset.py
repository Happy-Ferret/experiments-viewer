# -*- coding: utf-8 -*-
# Generated by Django 1.9.11 on 2016-12-02 19:20
from __future__ import unicode_literals

from django.db import migrations


class Migration(migrations.Migration):

    dependencies = [
        ('api', '0002_alter_metric_type'),
    ]

    operations = [
        migrations.RunSQL(
            [
                """
                  ALTER TABLE api_collection
                    DROP CONSTRAINT api_collection_dataset_id_cf7b03de_fk_api_dataset_id,
                    ADD CONSTRAINT api_collection_dataset_id_cf7b03de_fk_api_dataset_id
                      FOREIGN KEY (dataset_id)
                      REFERENCES api_dataset(id)
                      ON DELETE CASCADE
                      DEFERRABLE INITIALLY DEFERRED
                """,
                """
                  ALTER TABLE api_point
                    DROP CONSTRAINT api_point_collection_id_ddcd2ce9_fk_api_collection_id,
                    ADD CONSTRAINT api_point_collection_id_ddcd2ce9_fk_api_collection_id
                      FOREIGN KEY (collection_id)
                      REFERENCES api_collection(id)
                      ON DELETE CASCADE
                      DEFERRABLE INITIALLY DEFERRED
                """,
            ]
        )
    ]
